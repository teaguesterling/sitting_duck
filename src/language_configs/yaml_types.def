/**
 * @file yaml_types.def
 * @brief YAML data format node type mappings for AST semantic extraction
 *
 * @details This file defines how tree-sitter YAML AST node types map to semantic
 * categories used by the sitting_duck extension. Each mapping specifies the semantic
 * classification, name extraction strategy, native context extraction, and behavioral
 * flags for YAML constructs.
 *
 * ## YAML Format Characteristics
 *
 * - **Human-readable data format**: Superset of JSON
 * - **Indentation-based**: Structure defined by whitespace
 * - **Block style**: Multi-line, indentation-based formatting
 * - **Flow style**: JSON-like inline `{key: value}` and `[item]`
 * - **Multiple documents**: `---` separator, `...` terminator
 * - **Scalars**: Plain, single-quoted, double-quoted, literal `|`, folded `>`
 * - **Anchors and aliases**: `&anchor` and `*alias` for references
 * - **Tags**: `!tag` for type specification
 * - **Comments**: `# comment` style
 * - **Directives**: `%YAML 1.2`, `%TAG` prefixes
 *
 * ## Semantic Type Encoding
 *
 * Semantic types use an 8-bit encoding:
 * - Bits 7-2: Base semantic category (e.g., LITERAL_STRUCTURED = 0x50)
 * - Bits 1-0: Refinement within category
 *
 * ## DEF_TYPE Macro Parameters
 *
 * ```cpp
 * DEF_TYPE(raw_type, semantic_type, name_extraction, native_extraction, flags)
 * ```
 *
 * | Parameter | Description |
 * |-----------|-------------|
 * | raw_type | Tree-sitter node type string |
 * | semantic_type | Semantic category with optional refinement |
 * | name_extraction | Strategy for extracting node name |
 * | native_extraction | Strategy for rich context extraction |
 * | flags | Behavioral flags (IS_CONSTRUCT, IS_KEYWORD, IS_EMBODIED, etc.) |
 *
 * @see python_types.def for the comprehensive documentation template
 * @see node_config.hpp for ExtractionStrategy and NativeExtractionStrategy enums
 * @see semantic_types.hpp for semantic type constants
 */

// ============================================================================
// DOCUMENT STRUCTURE
// ============================================================================

/**
 * @defgroup yaml_document Document Structure
 * @brief Top-level YAML structure
 *
 * YAML document organization:
 * - Stream contains one or more documents
 * - Documents separated by `---`
 * - Documents terminated by `...`
 * @{
 */

/// @brief Stream - root node containing all documents
DEF_TYPE("stream", DEFINITION_MODULE, NONE, NONE, ASTNodeFlags::IS_CONSTRUCT)

/// @brief Document - single YAML document within stream
DEF_TYPE("document", DEFINITION_MODULE, NONE, NONE, ASTNodeFlags::IS_CONSTRUCT)

/** @} */ // end yaml_document

// ============================================================================
// BLOCK COLLECTIONS
// ============================================================================

/**
 * @defgroup yaml_block Block Collections
 * @brief Indentation-based collections
 *
 * Block style uses indentation for structure:
 * - Mappings: key-value pairs
 * - Sequences: ordered lists with `-` markers
 * @{
 */

/// @brief Block mapping - indentation-based key-value pairs
DEF_TYPE("block_mapping", LITERAL_STRUCTURED, NONE, NONE, 0)

/// @brief Block mapping pair - `key: value` on separate lines
DEF_TYPE("block_mapping_pair", PATTERN_DESTRUCTURE, FIND_PROPERTY, NONE, 0)

/// @brief Block sequence - indentation-based list
DEF_TYPE("block_sequence", LITERAL_STRUCTURED, NONE, NONE, 0)

/// @brief Block sequence item - `- value`
DEF_TYPE("block_sequence_item", ORGANIZATION_LIST, NONE, NONE, 0)

/** @} */ // end yaml_block

// ============================================================================
// FLOW COLLECTIONS
// ============================================================================

/**
 * @defgroup yaml_flow Flow Collections
 * @brief JSON-like inline collections
 *
 * Flow style uses explicit delimiters:
 * - `{key: value}` for mappings
 * - `[item1, item2]` for sequences
 * @{
 */

/// @brief Flow mapping - `{key: value, ...}`
DEF_TYPE("flow_mapping", LITERAL_STRUCTURED, NONE, NONE, 0)

/// @brief Flow pair - `key: value` in flow context
DEF_TYPE("flow_pair", PATTERN_DESTRUCTURE, FIND_PROPERTY, NONE, 0)

/// @brief Flow sequence - `[value, ...]`
DEF_TYPE("flow_sequence", LITERAL_STRUCTURED, NONE, NONE, 0)

/** @} */ // end yaml_flow

// ============================================================================
// SCALAR VALUES
// ============================================================================

/**
 * @defgroup yaml_scalars Scalar Values
 * @brief YAML scalar types
 *
 * Scalar styles:
 * - Plain: unquoted `value`
 * - Single-quoted: `'value'`
 * - Double-quoted: `"value"` with escapes
 * - Literal: `|` preserves newlines
 * - Folded: `>` folds newlines to spaces
 * @{
 */

/// @brief Plain scalar - unquoted value
DEF_TYPE("plain_scalar", LITERAL_STRING, NODE_TEXT, NONE, 0)

/// @brief Single-quoted scalar - `'value'`
DEF_TYPE("single_quote_scalar", LITERAL_STRING, NODE_TEXT, NONE, 0)

/// @brief Double-quoted scalar - `"value"`
DEF_TYPE("double_quote_scalar", LITERAL_STRING, NODE_TEXT, NONE, 0)

/// @brief Literal scalar - `|` block (preserves newlines)
DEF_TYPE("literal_scalar", LITERAL_STRING, NODE_TEXT, NONE, 0)

/// @brief Folded scalar - `>` block (folds newlines)
DEF_TYPE("folded_scalar", LITERAL_STRING, NODE_TEXT, NONE, 0)

/** @} */ // end yaml_scalars

// ============================================================================
// TYPED VALUES
// ============================================================================

/**
 * @defgroup yaml_typed_values Typed Values
 * @brief YAML values with implicit types
 *
 * YAML auto-detects types for unquoted values:
 * - Booleans: `true`, `false`, `yes`, `no`
 * - Null: `null`, `~`
 * - Numbers: integers, floats
 * @{
 */

/// @brief Boolean scalar - `true`, `false`, `yes`, `no`
DEF_TYPE("boolean_scalar", LITERAL_ATOMIC, NODE_TEXT, NONE, 0)

/// @brief Null scalar - `null`, `~`
DEF_TYPE("null_scalar", LITERAL_ATOMIC, NODE_TEXT, NONE, 0)

/// @brief Integer scalar - `42`, `0x2A`, `0o52`
DEF_TYPE("integer_scalar", LITERAL_NUMBER, NODE_TEXT, NONE, 0)

/// @brief Float scalar - `3.14`, `.inf`, `.nan`
DEF_TYPE("float_scalar", LITERAL_NUMBER, NODE_TEXT, NONE, 0)

/** @} */ // end yaml_typed_values

// ============================================================================
// TAGS AND ANCHORS
// ============================================================================

/**
 * @defgroup yaml_tags_anchors Tags and Anchors
 * @brief YAML metadata constructs
 *
 * YAML references:
 * - Tags: `!!str`, `!custom` type specification
 * - Anchors: `&name` define reusable node
 * - Aliases: `*name` reference anchored node
 * @{
 */

/// @brief Tag - `!tag` or `!!type` type specifier
DEF_TYPE("tag", METADATA_ANNOTATION, NODE_TEXT, NONE, 0)

/// @brief Anchor - `&name` reusable reference definition
DEF_TYPE("anchor", METADATA_ANNOTATION, NODE_TEXT, NONE, 0)

/// @brief Alias - `*name` reference to anchored node
DEF_TYPE("alias", COMPUTATION_ACCESS, NODE_TEXT, NONE, 0)

/** @} */ // end yaml_tags_anchors

// ============================================================================
// DIRECTIVES
// ============================================================================

/**
 * @defgroup yaml_directives Directives
 * @brief YAML document directives
 *
 * Directive types:
 * - `%YAML 1.2` - version specification
 * - `%TAG !prefix! uri` - tag shorthand
 * @{
 */

/// @brief Generic directive - `%DIRECTIVE`
DEF_TYPE("directive", METADATA_DIRECTIVE, NODE_TEXT, NONE, ASTNodeFlags::IS_CONSTRUCT)

/// @brief YAML directive - `%YAML 1.2`
DEF_TYPE("yaml_directive", METADATA_DIRECTIVE, NODE_TEXT, NONE, ASTNodeFlags::IS_CONSTRUCT)

/// @brief Tag directive - `%TAG !prefix! uri`
DEF_TYPE("tag_directive", METADATA_DIRECTIVE, NODE_TEXT, NONE, ASTNodeFlags::IS_CONSTRUCT)

/// @brief Reserved directive - future use
DEF_TYPE("reserved_directive", METADATA_DIRECTIVE, NODE_TEXT, NONE, ASTNodeFlags::IS_CONSTRUCT)

/** @} */ // end yaml_directives

// ============================================================================
// COMMENTS
// ============================================================================

/**
 * @defgroup yaml_comments Comments
 * @brief YAML comment syntax
 * @{
 */

/// @brief Comment - `# comment`
DEF_TYPE("comment", METADATA_COMMENT, NODE_TEXT, NONE, ASTNodeFlags::IS_CONSTRUCT)

/** @} */ // end yaml_comments

// ============================================================================
// STRING CONTENT
// ============================================================================

/**
 * @defgroup yaml_string_content String Content
 * @brief String internals
 * @{
 */

/// @brief String scalar - generic string content
DEF_TYPE("string_scalar", LITERAL_STRING, NODE_TEXT, NONE, 0)

/// @brief Escape sequence - `\n`, `\x00`, etc.
DEF_TYPE("escape_sequence", LITERAL_STRING, NODE_TEXT, NONE, 0)

/** @} */ // end yaml_string_content

// ============================================================================
// PUNCTUATION AND STRUCTURE
// ============================================================================

/**
 * @defgroup yaml_punctuation Punctuation and Structure
 * @brief YAML syntax tokens
 * @{
 */

/// @brief Colon - key-value separator `:`
DEF_TYPE(":", PARSER_PUNCTUATION, NODE_TEXT, NONE, 0)

/// @brief Comma - flow element separator `,`
DEF_TYPE(",", PARSER_PUNCTUATION, NODE_TEXT, NONE, 0)

/// @brief Dash - sequence item marker `-`
DEF_TYPE("-", PARSER_PUNCTUATION, NODE_TEXT, NONE, 0)

/// @brief Opening bracket - flow sequence `[`
DEF_TYPE("[", PARSER_DELIMITER, NODE_TEXT, NONE, 0)

/// @brief Closing bracket - flow sequence `]`
DEF_TYPE("]", PARSER_DELIMITER, NODE_TEXT, NONE, 0)

/// @brief Opening brace - flow mapping `{`
DEF_TYPE("{", PARSER_DELIMITER, NODE_TEXT, NONE, 0)

/// @brief Closing brace - flow mapping `}`
DEF_TYPE("}", PARSER_DELIMITER, NODE_TEXT, NONE, 0)

/// @brief Pipe - literal scalar indicator `|`
DEF_TYPE("|", PARSER_PUNCTUATION, NODE_TEXT, NONE, 0)

/// @brief Greater than - folded scalar indicator `>`
DEF_TYPE(">", PARSER_PUNCTUATION, NODE_TEXT, NONE, 0)

/// @brief Document start marker - `---`
DEF_TYPE("---", PARSER_DELIMITER, NODE_TEXT, NONE, 0)

/// @brief Document end marker - `...`
DEF_TYPE("...", PARSER_DELIMITER, NODE_TEXT, NONE, 0)

/** @} */ // end yaml_punctuation

// ============================================================================
// BLOCK SCALAR INDICATORS
// ============================================================================

/**
 * @defgroup yaml_block_indicators Block Scalar Indicators
 * @brief Literal/folded scalar modifiers
 *
 * Block scalar modifiers:
 * - Chomping: `-` strip, `+` keep trailing newlines
 * - Indentation: explicit indent level
 * @{
 */

/// @brief Block scalar header - `|2-` modifiers
DEF_TYPE("block_scalar_header", ORGANIZATION_SCOPE, NONE, NONE, 0)

/// @brief Chomping indicator - `-` or `+`
DEF_TYPE("block_chomping_indicator", METADATA_ANNOTATION, NODE_TEXT, NONE, 0)

/// @brief Indentation indicator - explicit indent level
DEF_TYPE("block_indentation_indicator", METADATA_ANNOTATION, NODE_TEXT, NONE, 0)

/** @} */ // end yaml_block_indicators

// ============================================================================
// PARSER ERROR HANDLING
// ============================================================================

/**
 * @defgroup yaml_parser_errors Parser Error Handling
 * @brief Parser error nodes
 * @{
 */

/// @brief Parse error node
DEF_TYPE("ERROR", PARSER_SYNTAX, NODE_TEXT, NONE, 0)

/** @} */ // end yaml_parser_errors
